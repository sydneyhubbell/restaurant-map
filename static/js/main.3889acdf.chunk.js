(this["webpackJsonprestaurant-map"]=this["webpackJsonprestaurant-map"]||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(5),s=a.n(i),o=(a(24),a(2)),u=a(3),c=a(18),l=a(19),d=a(4),p=[{name:"Posto",latitude:42.393130393416975,longitude:-71.12023817216877,stars:4.5,review:"Great Pizza and cocktails"},{name:"Life Alive Organic Cafe",latitude:42.36710399603149,longitude:-71.10370172249357,stars:5,review:"Incredible vegetarian salads & bowls. Favorite lunch spot"},{name:"Similans",latitude:42.36635440233365,longitude:-71.0782126899619,stars:5,review:"Great Thai food- try the green curry"},{name:"Pho Basil",latitude:42.34635787410512,longitude:-71.0863610565746,stars:4.5,review:"Not fancy, but the best Pho. College Favorite"},{name:"Squealing Pig",latitude:42.335031338903555,longitude:-71.10164881620743,stars:3.5,review:"Favorite college bar. Good tap list, food is ok"},{name:"James Hook & Co.",latitude:42.35497180351533,longitude:-71.05060155135841,stars:4,review:"Tiny shack, best lobster rolls- outdoor eating but good prices"}];var b="FETCHING_RESTAURANTS",f="FETCHING_RESTAURANTS_SUCCESS",v="FETCHING_RESTAURANTS_FAILURE";function m(){return function(e){return e({type:b}),Promise.resolve(p).then((function(t){e({type:f,payload:t})})).catch((function(t){e({type:v,payload:t})}))}}function g(e,t){var a=t.payload;switch(t.type){case b:return Object(d.a)({},e);case f:return Object(d.a)(Object(d.a)({},e),{},{restaurants:a});case v:default:return Object(d.a)({},e)}}var h={restaurants:[]},j=Object(l.createLogger)(),O=window.__REDUX_DEVTOOLS_EXTENSTION_COMPOSE__||u.c;var y=function(){return Object(u.d)(g,h,O(Object(u.a)(c.a,j)))},w=a(6),N=a(7),R=a(9),T=a(8),E=a(15),S=a(14),M=(a(30),a(1)),C=function(e){Object(R.a)(a,e);var t=Object(T.a)(a);function a(e){var r;return Object(w.a)(this,a),(r=t.call(this,e)).setupMap=function(e,t){r.setState({map:e,view:t}),Object(S.loadModules)(["esri/widgets/Editor","esri/geometry/support/webMercatorUtils","esri/layers/FeatureLayer"],{}).then((function(e){var a=Object(E.a)(e,3),n=a[0],i=a[1],s=a[2],o=r.createGraphics(i),u=r.createLayer(o,s);r.state.map.add(u);var c=new n({view:t});r.state.view.ui.add(c,"top-right")}))},r.createGraphics=function(e){return r.props.restaurants.map((function(t){var a={type:"point",latitude:t.latitude,longitude:t.longitude};return{geometry:e.geographicToWebMercator(a),attributes:{name:t.name,rating:t.stars,review:t.review}}}))},r.createLayer=function(e,t){return new t({source:e,fields:[{name:"ObjectID",alias:"ObjectID",type:"oid"},{name:"name",alias:"Name",type:"string"},{name:"rating",alias:"Rating",type:"double"},{name:"review",alias:"Review",type:"string"}],objectIdField:"ObjectID",geometryType:"point",renderer:{type:"simple",symbol:{type:"picture-marker",url:"".concat("/restaurant-map","/assets/restaurant-icon.svg"),width:"25px",height:"25px"}},popupTemplate:{title:"Restaurant",content:[{type:"fields",fieldInfos:[{fieldName:"name",label:"Name",visible:!0},{fieldName:"rating",label:"Rating",visible:!0},{fieldName:"review",label:"Review",visible:!0}]}]}})},r.state={map:null,view:null,restaurantLayer:null,zoom:e.zoom},r}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.zoom,r=t.center;Object(S.loadModules)(["esri/config","esri/Map","esri/views/MapView"],{}).then((function(t){var n=Object(E.a)(t,3),i=n[0],s=n[1],o=n[2];i.apiKey="AAPKac9b362f225f4f378683a4a3ac766f69hi9tHlW8g37flkaxGDNZ0mguVNfC67EVRIw4XN0aCiQsni_vQNodhgNZ7H9xVbYL";var u=new s({basemap:"arcgis-light-gray"}),c=new o({container:"restaurantMap",map:u,zoom:a,center:[r.longitude,r.latitude]});c.when((function(){e.setupMap(u,c)}))}))}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"restaurant-map-div",id:"restaurantMap"})}}]),a}(n.a.Component);C.defaultProps={zoom:12,center:{latitude:42.35879,longitude:-71.0561},restaurantList:[]};var I=Object(o.b)((function(e,t){return{restaurants:t.restaurants}}),null)(C),_=function(e){Object(R.a)(a,e);var t=Object(T.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchRestaurants;0===e.restaurants.length&&t()}},{key:"render",value:function(){var e=this.props.restaurants;return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:" Restaurants "}),Object(M.jsx)(I,{restaurants:e})]})}}]),a}(n.a.Component);_.defaultProps={restaurants:[]};var k=_;function x(e){return e.restaurants}var A=Object(o.b)((function(e){return{restaurants:x(e)}}),(function(e){return{fetchRestaurants:function(){e(m())}}}))(k),L=y(),P=function(){return Object(M.jsx)(o.a,{store:L,children:Object(M.jsx)(A,{})})};s.a.render(Object(M.jsx)(n.a.StrictMode,{children:Object(M.jsx)(P,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.3889acdf.chunk.js.map